!function(){"use strict";var u=!0,t="_MeiTuanALogObject",f=1,r="dianping_nova",h="waimai",m="group",c="demo",g="4.10.8",_="lxcuid",y="uuid",b="msid",w="cityid",A="utm",x="uid",k="userid",S="dpid",O="appnm",s="union_id",d="web_env",q="wxmp_env",l="pd_data",j=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,I=setTimeout,v=clearTimeout,p=1,a=2,D=3,T=4,e=5,i=6,o=20,E=7;function C(n){var t=n;return n&&n.code&&(t=n.code),t===p?"E_TIME_OUT":t===a?"E_NO_JSBRIDGE":t===D?"E_KNB_FAIL":t===T?"E_KNB_CB_FAIL":t===e?"E_KNB_NOT_EXIST":t===o?"ERR_PARAMS":t===i?"E_KNB_METHOD_NOT_SUPPORT":"unknown error: "+t}var M=200,N=100,F=500,R=600,L=-1,V="PV",P="PD",B="MC",U="SC",Q="MV",K="MVL",J="ME",X="BO",$="BP",W="event_type",z="val_act",H="val_cid",Z="index",G="element_id",Y="pageView",nn="systemCheck",tn="moduleClick",en="order",rn="order_id",on=1e3,an=2,un=0,cn=-1,sn=0,fn=1,dn=10080,ln=1576800,vn=30,pn="_lx_utm",hn="_lxsdk",mn="_lxsdk_cuid",gn="_lxsdk_dpid",_n="_lxsdk_s",yn="latlng",bn="msid",wn="ms",xn="category",kn="c",Sn="login_type",On="lt",qn="locate_city_id",jn="lci",An="sdk_ver",In="sv",Dn="lxcuid",Tn="lxid",En="val_lab",Cn="val_bid",Mn="val_val",Nn="sf",Fn="__$lx_beacon_",Rn={category:u,union_id:u,lxcuid:u,app:u,sdk_ver:u,appnm:u,ch:u,lch:u,ct:u,did:u,dm:u,ua:u,msid:u,uuid:u,lat:u,log:u,net:u,os:u,idfa:u,pushid:u,subcid:u,mac:u,imsi:u,uid:u,logintype:u,cityid:u,apn:u,mno:u,pushSetting:u,wifi:u,bht:u,ip:u,vendorid:u,geohash:u,dtk:u,sns:u,android_id:u,version_code:u,brand:u,utm:u},Ln="post",Vn="validation",Pn="__lx"+Vn,Bn=".sankuai.com",Un="report.meituan.com",Qn="hreport.meituan.com",Kn=0,Jn=-2,Xn=function(){};function n(){return window}function $n(){return n().XMLHttpRequest}var Wn,zn,Hn=(Wn=$n(),zn=Wn&&"withCredentials"in new Wn,function(){return zn}),Zn=/__lxvalidation=([\w.]+)/i,Gn=10,Yn=!1,nt=void 0,tt=void 0,et={};function rt(n){var t,e="v2/api/"+Vn+"/validate",r="validate-ocean"+Bn,i=0===xe().indexOf("http:")?"http:":"https:",o=i+"//"+n+"/",a=Ft.search.match(Zn)||[],u=function(){var n=se.get(Pn);if(n){var t=n.split("|");return{mis:t[0],env:t[1]||""}}return n||{}}();(t=a&&a[1]||u.mis||"")&&(se.set(Pn,t+"|",Gn),o=i+"//"+r+"/"+e+"?mis="+t);return o}var it={inWXMP:!1,pageValLab:null,pageEnv:null,use_post:!1,cid:null,appnm:null,quit:null,useQR:!1,onWebviewAppearAutoPV:!0,nativeSDKVer:null},ot=[];it.on=function(n,t){ot.push({name:n,fn:t})};var at={MVL:!(it.emit=function(r,i,o,a,u){oe.each(ot,function(n){var t=n.name,e=n.fn;t===r&&e(i,o,a,u)})}),QR:!1,getReqId:!1};function ut(n){return!!at[n]}var ct={st:0,web:1};function st(n,t){ct[n]=t}function ft(n){return n?ct[n]:ct}function dt(n,t){te.isStr(n)&&(et[n]=t)}function lt(n){Yn=n}function vt(){return Yn===f}function pt(n){return nt&&!n||(nt=rt(Un)),nt}var ht=["wreport.meituan.net","wreport1.meituan.net","wreport2.meituan.net"],mt=0;function gt(n){if(!tt||n){var t=ht[parseInt(mt++%18/6)];tt=rt(t)}return tt}var _t=void 0;function yt(){if(Bt!==_t)return _t;var n=Rt.getElementsByTagName("meta");return _t="off"===he(n,"lx:native-report")}var bt=un;function wt(){return bt}function xt(n){yt()||(bt=n)}var kt=!1;function St(n){kt=!!n}var Ot=5e3,qt=50,jt={MVL:{}},At=void 0,It=void 0;function Dt(n,t,e,r){r=r||{};var i=t.category,o=e.req_id,a=e.val_cid,u=e.val_bid,c=r.tag;if(jt[n]&&te.isStr(n)&&te.isStr(i)&&te.isStr(o)&&te.isStr(a)&&te.isStr(u)){var s=i+"_"+o+"_"+a+"_"+u,f=jt[n];te.isObj(f[s])||(f[s]={env:te.extend(!0,{},t),evs:e,lab:[]}),te.isObj(c)&&(f[s].evs.tag=c);var d=te.extend(!0,e.val_lab,{_seq:e.seq,_tm:e.tm});f[s].lab.push(d),function(){var n=0;for(var t in jt){var e=jt[t];for(var r in e){var i=e[r].lab;n+=i.length||0}}qt<n&&Ct()}()}}function Tt(n,t){var e=(t||{}).withUnload,r=jt[n];if(te.isObj(r)){var i=[];for(var o in r){var a=r[o],u=!1;if(a.lab&&a.lab.length){var c=a.env,s=a.evs,f={mv_list:a.lab,custom:{_withUnload:!!e}};s.val_lab=f;for(var d=0,l=i.length;d<l;d++){var v=i[d];if(!Et(v,c)){v.evs.push(s),u=!0;break}}u||(c.evs=[s],i.push(c))}}i.length&&It.send(i),jt[n]={}}}function Et(n,t){var e=0,r=0;for(var i in n)n.hasOwnProperty(i)&&e++;for(var o in t)t.hasOwnProperty(o)&&r++;var a=r<e?n:t,u=e<=r?n:t;for(var c in a){if(!(-1<"evs|".indexOf(c+"|")))if(te.isObj(a[c])&&te.isObj(u[c])){if(Et(a[c],u[c]))return!0}else if(a[c]!==u[c])return!0}return!1}function Ct(n){var t=(n||{}).withUnload;for(var e in jt)Tt(e,{withUnload:t})}I(function n(){clearTimeout(At);try{Ct()}catch(n){}finally{wt()===un?At=I(n,Ot):clearTimeout(At)}},100);var Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nt=n(),Ft=location,Rt=document,Lt=Rt.domain,Vt=navigator,Pt=Vt.userAgent.toString(),Bt=void 0,Ut=Array.prototype,Qt=Object.prototype,Kt=decodeURIComponent,Jt=encodeURIComponent,Xt=Gt(),$t=Qt.toString,Wt=Qt.hasOwnProperty;function zt(){}function Ht(n){return void 0===n?"undefined":Mt(n)}function Zt(n,t){return Ht(n)===t}function Gt(){return+new Date}function Yt(){return Math.random()}function ne(n){return Zt(n,"number")}var te={};function ee(n,e,r){var i=void 0,o=!0===n;return o||(r=e,e=n),e&&te.isObj(e)||(e={}),r&&te.isObj(r)||(r={}),oe.each(r,function(n,t){o&&te.isObj(r[t])?(i=e[t],e[t]=te.isObj(i)?i:{},ee(o,e[t],r[t])):e[t]=r[t]}),e}te.trim=function(n){return n.replace(/^[\s\uFEFF\xA0\u3000]+|[\s\uFEFF\xA0\u3000]+$/g,"")},te.now=Gt,te.rnd=Yt,te.hasOwn=function(n,t){return Wt.call(n,t)},te.extend=ee;var re=function(n){return n&&"[object Object]"===$t.call(n)};te.isObj=re;var ie=function(n){return Zt(n,"string")};te.isStr=ie,te.isFunc=function(n){return Zt(n,"function")},te.attr=function(n,t){return n.getAttribute(t)},te.parseQuery=function(n){var i={};if(n){var t=n.replace(j,function(n,t,e,r){return r||""}).split("&");return oe.each(t,function(n){var t=n.split("="),e=t[0],r=t.slice(1).join("")||"";e&&!Wt.call(i,e)&&(i[e]=Kt(r))}),i}},te.stringifyQuery=function(n){var r=[];return te.isObj(n)&&oe.each(n,function(n,t){var e;te.isFunc(n)||(Bt!==n&&((e=n)||!Zt(e,"object"))||(n=n||""),r.push(Jt(t)+"="+Jt(n)))}),r.join("&")},te.genReqId=function(){return""+1e3*Gt()+parseInt(1e3*Yt())},te.run=function(n,t){ae(n)?oe.each(n,t):t(n)},te.on=function(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e)},te.off=function(n,t,e){n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e)};var oe={isArray:function(n){return"[object Array]"===$t.call(n)}},ae=function(n){if(!n)return!1;var t=n.length;return!!oe.isArray(n)||!!(n&&ne(t)&&0<=t)&&(!te.isObj(n)||(!(1<t)||t-1 in n))};oe.isArrayLike=ae,oe.find=function(e,r,i){var o=void 0;return ae(e)&&oe.each(e,function(n,t){if(!0===r.call(i,n,t,e))return o=n,!1}),o},oe.filter=function(e,r,i){var o=[];return ae(e)&&oe.each(e,function(n,t){r.call(i,n,t,e)&&o.push(n)}),o},oe.toArray=function(n,t,e){var r=[];return ae(n)&&oe.each(n,function(n){r.push(t?t.call(e,n):n)},e),r};var ue=function(n,t,e){if(n){var r=void 0,i=void 0,o=void 0;if(ae(n))for(i=0,o=n.length;i<o&&!1!==t.call(e,n[i],i,n);i++);else for(r in n)if(te.hasOwn(n,r)&&!1===t.call(e,n[r],r,n))break}};oe.each=ue;var ce=function(n,t,e){if(n){for(var r=[],i=0,o=n.length;i<o;i++){var a=t.call(e,n[i],i,n);r.push(a)}return r}};oe.slice=function(n,t,e){return Ut.slice.call(oe.toArray(n),t,e)},oe.reduce=function(n,t){if(ae(n)&&te.isFunc(t)){var e=n,r=e.length>>>0,i=0,o=void 0,a=arguments;if(3===a.length)o=a[2];else{for(;i<r&&!(i in e);)i++;if(r<=i)return;o=e[i++]}for(;i<r;)i in e&&(o=t(o,e[i],i,e)),i++;return o}};var se={};function fe(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=void 0,r=void 0,i=void 0,o=void 0,a=void 0,u=0,c=0,s="",f=[];if(!n)return n;for(n=de(n);e=(a=n.charCodeAt(u++)<<16|n.charCodeAt(u++)<<8|n.charCodeAt(u++))>>18&63,r=a>>12&63,i=a>>6&63,o=63&a,f[c++]=t.charAt(e)+t.charAt(r)+t.charAt(i)+t.charAt(o),u<n.length;);switch(s=f.join(""),n.length%3){case 1:s=s.slice(0,-2)+"==";break;case 2:s=s.slice(0,-1)+"="}return s}function de(n){var t,e="",r=void 0,i=void 0,o=void 0;for(r=i=0,t=(n=(n+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<t;o++){var a=n.charCodeAt(o),u=null;a<128?i++:u=127<a&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==u&&(r<i&&(e+=n.substring(r,i)),e+=u,r=i=o+1)}return r<i&&(e+=n.substring(r,n.length)),e}se.del=function(n,t){var e=n+"=;path=/;domain="+t,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),Rt.cookie=e,!0},se.get=function(n){var t=Rt.cookie.match(new RegExp("(?:^|;)\\s*"+n+"=([^;]+)"));return Kt(t?t[1]:"")},se.set=function(n,t,e,r){r=r||Rt.domain;var i=void 0,o=void 0,a=void 0,u=n+"="+Jt(t)+";path=/;domain="+r;Bt===e||isNaN(e)||(i=new Date,o=60*parseInt(e,10)*1e3,a=i.getTime()+o,i.setTime(a),u+=";expires="+i.toUTCString());try{return Rt.cookie=u,!0}catch(n){return!1}},se.top=function(n,t,e){var r=Rt.domain,i=r.split("."),o=i.length,a=o-1,u=void 0,c=!1;for(t=""+t;!c&&0<=a&&(r=i.slice(a,o).join("."),se.set(n,t,e,r),u=se.get(n),Bt!==u&&(c=u===t),a--,!c););},se.del=function(n){return se.top(n,"",-100)};var le=window.btoa,ve=fe;try{te.isFunc(le)&&le(de(Pt))===fe(Pt)?(ve=function(n){return le(de(n))},st("btoa","0")):st("btoa","1")}catch(n){}var pe=ve;function he(n,t){var e=void 0,r=oe.find(n,function(n){return te.attr(n,"name")===t});return r&&(e=te.attr(r,"content")),e}function me(){var n=Nt[t];return Nt[n]}var ge,_e=(ge=void 0,{update:function(n){ge=n},get:function(){return ge}});function ye(n){var t={duration:function(n){var t=void 0,e=_e.get(),r=Gt();if(n&&e)t=e,_e.update(r);else{var i=me(),o=Nt.performance&&Nt.performance.timing;(t=o&&o.requestStart)||(t=i?i.l:Xt),_e.update(r)}return r-t}(!0===n)},e=void 0,r=it.quit;return te.isFunc(r)&&(e=r()||{}),t=te.extend(t,e||{})}function be(n,t){t[rn]}var we=2032;function xe(){return Ft.protocol}/trident/i.test(Pt)||/msie/i.test(Pt)||!/mozilla.+webkit.+chrome.+/i.test(Pt)||(we=6e3);var ke=0;function Se(n,t){var e=/^((\d+\.)+\d+).*$/;if("string"!==Ht(n)||"string"!==Ht(t))return NaN;if(!e.test(n)||!e.test(t))return NaN;for(var r=n.replace(e,"$1").split("."),i=t.replace(e,"$1").split("."),o=0,a=Math.max(r.length,i.length);o<a;o++){if(!r[o]||!i[o])(!r[o]&&r||!i[o]&&i).push("0");var u=r[o].toString().length,c=i[o].toString().length;if(u!==c){var s=c<u?i:r;s[o]=Array(Math.abs(u-c)+1).join("0")+s[o].toString()}}var f=parseInt(r.join("")),d=parseInt(i.join(""));return f==d?0:d<f?1:-1}function Oe(e,r,i,o,a,u,c){return function(n){if(!e){e=!0;try{if(r&&new Date-i<50)return;if(o)return;if(o=!1,!c()){var t=ye();a("pageDisappear",t,{shouldStore:!0})}Ct({withUnload:!0})}catch(n){}u&&u(n)}}}var qe=4,je="",Ae=function(n){qe=n},Ie=function(){return je&&3===qe},De=function(n){je=n},Te=function(){return je},Ee=Nt.sessionStorage,Ce=void 0;Ce=te.isFunc(Nt.atob)?Nt.atob:function(n){return n};var Me={},Ne=function(n,t){if(Me[n])try{Me[n](t),I(function(){delete Me[n]},0)}catch(n){}},Fe=Pt,Re=[{n:c,r:/lingxi\/demo\/\d+/i,v:Fe},{n:r,r:/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i,v:Fe},{n:h,r:/\bmeituanwaimai-c\/\d+\./i,v:Fe},{n:"moviepro",r:/\bmoviepro/i,v:Fe},{n:"movie",r:/\bmaoyan\b/i,v:Fe},{n:m,r:/\bmeituan \d+|meituangroup\/\d+\./i,v:Fe}],Le=/android/i.test(Fe),Ve="",Pe=Le,Be=!1,Ue=!1,Qe="www",Ke=!1;if(/\bandroid|mobile\b|\bhtc\b/i.test(Fe)){Qe="i",Pe=!0,oe.each(Re,function(n){if(n.r.test(n.v))return Ve=n.n,!1}),/\btitans(no){0,1}x\b/i.test(Fe)&&(Be=!0);var Je=/iphone/i.test(Fe),Xe=/ipad/i.test(Fe);(Je||Xe)&&(Ue=!0),Ve&&(Je?Qe="iphone":/android/i.test(Fe)?Qe="android":Xe&&(Qe="ipad"))}else{var $e=Fe.match(/(msie) (\d+)|Trident\/(d+)/i);$e&&(Ke=!0,$e&&parseInt($e[2],10))}var We=Nt.screen.width+"*"+Nt.screen.height,ze=Be||/ knb\/\d+/i.test(Pt),He=function(){return Pe&&ze},Ze=Pt.replace(/^.*TitansX\/([\d.]+)\s.*$/i,"$1"),Ge=!(!Pe||!/\sMicroMessenger/.test(Fe)),Ye=A+"_source",nr=A+"_medium",tr=A+"_term",er=A+"_campaign",rr=A+"_content",ir=void 0,or=!1;function ar(n){if(!n)return Bt;var e=Bt,r=/^utm_(source|medium|term|content|campaign)$/;return oe.each(n,function(n,t){r.test(t)&&(!e&&(e={}),e[t]=n)}),e}function ur(n){if(n){ir=n;var t=te.stringifyQuery(n);return se.del(pn,Lt),se.top(pn,t,dn,Lt),!0}return!1}function cr(n,t){var o,e,r,i,a;return(!ir&&!or||n)&&(n=n||Ft.href,t=t||Rt.referrer,a=n,(ir=ar(te.parseQuery(a))||function(n){var t=Bt,e=n.match(/^[\w-]+:\/\/([^/]+)(?:\/([^?]+)?)?/),a=e&&e[1];if(a){var u=te.parseQuery(n),r="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" "),c="",s="";oe.each(r,function(n){var t=n.split(":"),e=t[0],r=t[1],i=u[r],o=-1<e.indexOf(".")?e:"."+e+".";if(-1<a.indexOf(o.toLowerCase())&&(s=e,c=i))return!1}),s&&((t={})[Ye]=s,t[nr]="organic",c&&(t[tr]=c))}return t}(t))?ur(ir):(i=se.get(pn),ir=j.test(i)?ar(te.isStr(i)?te.parseQuery(i):null):ir),ir||(o=void 0,e=se.get("__utmz"),(r=e&&e.match(/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g))&&oe.each(r,function(n){var t=n.split("="),e=t[0],r=void 0,i=t[1]||"";"utmcsr"===e?r=Ye:"utmccn"===e?r=er:"utmcmd"===e?r=nr:"utmcct"===e?r=rr:"utmctr"===e&&(r=tr),r&&((o=o||{})[r]=i)}),ur(ir=o)),or=u),ir}var sr,fr,dr,lr,vr=Nt.JSON;vr||(vr={parse:function(n){return new Function("return ("+n+")")()},stringify:(sr=oe.isArray,fr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},dr=function(n){return fr[n]||"\\u"+(n.charCodeAt(0)+65536).toString(16).substr(1)},lr=/[\\"\u0000-\u001F\u2028\u2029]/g,function n(t){if(null==t)return"null";if(Zt(t,"number"))return isFinite(t)?t.toString():"null";if(Zt(t,"boolean"))return t.toString();if(Zt(t,"object")){if("function"===Ht(t.toJSON))return n(t.toJSON());if(sr(t)){for(var e="[",r=0;r<t.length;r++)e+=(r?", ":"")+n(t[r]);return e+"]"}if(te.isObj(t)){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(n(o)+": "+n(t[o]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(lr,dr)+'"'})});var pr=vr,hr="__lxsdk_",mr=Nt.localStorage;function gr(n){return hr+n}function _r(){return{length:0,_data:{},setItem:function(n,t){return this.length++,this._data[n]=String(t)},getItem:function(n){return this._data.hasOwnProperty(n)?this._data[n]:Bt},removeItem:function(n){return this.length--,delete this._data[n]},clear:function(){return this.length=0,this._data={}},key:function(n){var t=[],e=this._data;return oe.each(e,function(n){te.hasOwn(e,n)&&t.push(n)}),t[n]}}}var yr={get:function(n){n=gr(n);var t=mr.getItem(n);return t=Bt!==t?pr.parse(t):t},set:function(n,t){return yr.del(n),mr.setItem(gr(n),pr.stringify(t))},keys:function(){for(var n=[],t=void 0,e=0;e<mr.length;e++)0===(t=mr.key(e)).indexOf(hr)&&n.push(t.replace(hr,""));return n},del:function(n){try{return mr.removeItem(gr(n))}catch(n){}},clear:function(){for(var n=this.keys(),t=0;t<n.length;t++)this.del(n[t])}};if(mr){if(mr){var br="___lxtest";yr.nt=!0;try{yr.set(br,1),1!==yr.get(br)?yr.clear():yr.del(br)}catch(n){try{yr.clear(),mr.setItem(br,1),mr.removeItem(br)}catch(n){mr=_r(),yr.nt=!1}}}}else mr=_r(),yr.nt=!1;var wr="tag",xr=18e5;function kr(n,t,e,r,i,o){var a={};a.c=n,a.k=t,a.v=e,a.t=r||+new Date,a.u=i||"",a.r=o||"",this.toJSON=function(){return te.extend(!0,{},a)}}var Sr={set:function(n,t,e){var r=void 0,i=[],o=yr.get(wr)||[];if(!te.isStr(t)||""===t)return!1;for(var a=0,u=o.length;a<u;a++)Or(r=o[a])||(n===r.c?t!==r.k&&i.push(r):i.push(r));return r=new kr(n,t,e,+new Date),i.push(r.toJSON()),yr.set(wr,i),!0},get:function(n,t){var e=void 0,r=yr.get(wr);if(r&&r.length)return e={},oe.each(r,function(n){var t={};t[n.k]=n.v,Or(n)||(e[n.c]=te.extend(!0,e[n.c]||{},t))}),n&&t?e[n]&&e[n][t]:n?e[n]:e},getAll:function(){var n=yr.get(wr),e={},r=void 0;return oe.each(n,function(n){var t=void 0;!Or(n)&&n.v&&(r=!0,(t={})[n.k]=n.v,e[n.c]=te.extend(!0,e[n.c],t))}),r&&e},clear:function(t,e){if(!arguments.length)return yr.set(wr,[]);if(te.isStr(t)){var n=yr.get(wr),r=[];oe.each(n,function(n){(e!==Bt&&n.k!==e||t!==n.c)&&r.push(n)}),yr.set(wr,r)}}};function Or(n){var t=te.now();return xr<t-n.t}function qr(n){return n}function jr(n){try{n(Cr(this,Ir),Cr(this,Ar))}catch(n){if(this._state===Dr)return Nr(new jr(qr),Ar,n)}}jr.prototype.then=function(n,t){return function(n,t,e,r){Ht(e)===Tr&&(t._onFulfilled=e);Ht(r)===Tr&&(t._onRejected=r);n._state===Dr?n[n._pCount++]=t:Mr(n,t);return t}(this,new jr(qr),n,t)},jr.all=function(l){return new jr(function(r,e){for(var n,t,i,o=0,a=l.length,u=[],c=0,s=void 0,f=function(e){return function(n){if(e.value=n,e.state=Ir,++c===e.len&&!s){var t=function(n){var t=[];for(o=0;o<a;o++)t.push(n[o]?n[o].value:void 0);return t}(u);r(t)}}},d=function(t){return function(n){t.value=n,t.state=Ar,c++,s||(s=!0,e(n))}};o<a;o++)t=n=void 0,t=l[o],i={value:null,index:o,state:null,len:a},u.push(i),n=i,t.then?t.then(f(n),d(n)):jr.resolve(t).then(f(n),d(n))})},jr.resolve=function(t){if(t instanceof jr)return t;if(te.isFunc(t.then)){var e=t.then.bind(t);return new jr(function(n,t){e(n,t)})}return new jr(function(n){n(t)})},jr.reject=function(e){return new jr(function(n,t){t(e)})};var Ar=0,Ir=1,Dr=2,Tr="function",Er="object";function Cr(t,e){return function(n){return Nr(t,e,n)}}function Mr(e,r){return setTimeout(function(){var n=void 0,t=e._state?r._onFulfilled:r._onRejected;if(void 0!==t){try{n=t(e._value)}catch(n){return void Nr(r,Ar,n)}Fr(r,n)}else Nr(r,e._state,e._value)})}function Nr(n,t,e){if(n._state===Dr){n._state=t,n._value=e;for(var r=0,i=n._pCount;r<i;)Mr(n,n[r++]);return n}}function Fr(t,n){if(n!==t||!n){var e=void 0,r=Ht(n);if(null===n||r!==Tr&&r!==Er)Nr(t,Ir,n);else{try{e=n.then}catch(n){return void Nr(t,Ar,n)}Ht(e)===Tr?function(t,e,n){try{n.call(e,function(n){e&&(e=null,Fr(t,n))},function(n){e&&(e=null,Nr(t,Ar,n))})}catch(n){e&&(Nr(t,Ar,n),e=null)}}(t,n,e):Nr(t,Ir,n)}return t}Nr(t,Ar,new Error("promise_circular_chain"))}jr.prototype._state=Dr,jr.prototype._pCount=0;var Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lr=function(){var n=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent);function e(){return n?navigator.userAgent.toLowerCase():""}function r(n){for(var t={},e=n.replace(/\([^)]+\)/g,"").split(/\s+/),r="",i=0;i<e.length;i+=1){var o=e[i],a=o.lastIndexOf("/");if(a<0)r=o;else{var u=o.slice(0,a);r&&(u=r+" "+u,r=""),t[u]=o.slice(a-o.length+1)}}return t}function c(n){var t=n||"0",e=t.match(/^(\d*)/);return e?Number(e[1]):0}function o(n,t){for(var e="string"==typeof n?n.split("."):["0"],r="string"==typeof t?t.split("."):["0"],i=Math.max(e.length,r.length),o=0;o<i;o+=1){var a=c(e[o]),u=c(r[o]);if(u<a)return 1;if(a<u)return-1}return 0}function a(n){var t=-1,e=document.createElement("iframe");function r(){clearTimeout(t);var n=e.parentNode;n&&n.removeChild(e),e.onload=null,e.onerror=null,e=null}e.style.display="none",e.onload=r,e.onerror=r,e.src=n,(document.body||document.documentElement).appendChild(e),t=setTimeout(r,3e3)}function u(n){window.KNBTitansX&&window.KNBTitansX.sendMessage?window.KNBTitansX.sendMessage(n):window.prompt(n)}function s(n){window.prompt(n)}var t,i={getDefaultSender:function(){var i=Function.prototype,n=e();if(/ios|iphone|ipod|ipad/.test(n))i=a;else if(/android/.test(n)){var t=r(n);i=0<o(t.android,"4.2.0")?u:s}return function(n,t,e){var r="js://_?method="+n+"&callbackId="+e+"&args="+encodeURIComponent(t);i(r)}},compareVersion:o,parseUserAgent:r,canUseSlot:(t=r(e()),0<=o(t.titansx||t.titansnox,"11.13"))},f=i.getDefaultSender,d=i.compareVersion,l=i.parseUserAgent,v=i.canUseSlot,p="function"==typeof Symbol&&"symbol"===Rr(Symbol.iterator)?function(n){return void 0===n?"undefined":Rr(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":void 0===n?"undefined":Rr(n)},h={sender:null};function m(n){return"DPApp_callback_"+n}function g(n,t){var e=m(n),r=window[e];r&&(r(t),r.isSafeDelete&&(window[e]=void 0))}function _(n){var t=n||"DPApp";if(!window[t]||!window[t].KNBCore){var e={dequeue:window[t]&&window[t].dequeue||Function.prototype,KNBCore:!0,callback:g};window[t]=function(n,t){if(n&&"object"===(void 0===n?"undefined":p(n))){var e=n;return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}return t}(window[t],e)}}var y,b={bindSender:function(n){"function"==typeof n&&(h.sender=n)},sendMessage:function(n,t,e,r){var i=v&&r?"KNBSlot"+r:void 0;_(i);var o=function(n){if(!/^[a-zA-Z0-9]*$/.test(n))throw new Error("illegal slot name");var t=Math.floor(1e3*Math.random());return+(Date.now().toString().slice(-5)+""+t)+(n?"_"+n:"")}(i),a=m(o),u=e||{};window[a]=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.status,e="action"===t?"handle":t;"0"===String(e)&&(e="success");var r=u[e]||u.fail;if("function"==typeof r)return r(n)},u.handle||(window[a].isSafeDelete=!0),h.sender&&h.sender(n||"",JSON.stringify(t||{}),o)},fireCallback:g,compareVersion:d,parseUserAgent:l};return y=b,"undefined"!=typeof window&&(h.sender=f(),window.KNBCore||(window.KNBCore=y)),b}(),Vr=!1,Pr=[],Br=void 0,Ur=void 0;function Qr(n){He()?c===Ve?n(Bt,Ur):Vr?n(Br,Ur):(Pr.push(n),Vr?n(Bt,Ur):new Promise(function(n){n({ready:function(n){return n()},use:function(n,t){t=t||{},Lr.sendMessage(n,{data:t.data||{}},t,"LXAnalyticsSDK")}}),Vr=!0}).then(function(n){var t,e,r=Ur=n;t=Br,e=r,oe.each(Pr,function(n){n(t,e)}),Pr=[]})):n(e,Ur)}var Kr=500,Jr="getUserInfo";function Xr(){return new jr(function(o,r){Qr(function(n,t){var e=Nt.DPApp,i=I(function(){o({})},Kr);t?t.ready(function(){t.use(Jr,{success:function(n){var t,e,r;v(i),o((e={},(r=(t=n)[S])&&"0"!==r||"dp"!==t.type?t[S]&&(e[S]=t[S]):e[S]=t[y],"dp"!==t.type&&t[y]&&(e[y]=t[y]),t.unionId&&(e.unionId=t.unionId),t.userId&&(e.userId=t.userId),e))},fail:function(n){v(i),r({code:D})}})}):e&&e[Jr]?e.ready(function(){e[Jr]({success:function(n){v(i);var t={};(n.dpid||n.userId)&&(t.dpid=n.dpid,t.userId=n.userId,t.unionId=n.unionId),o(t)},fail:function(n){v(i),r({code:a,res:n})}})}):r({code:a})})})}var $r,Wr=($r=function(){for(var n=1*new Date,t=0;n===1*new Date&&t<200;)t++;return n.toString(16)+t.toString(16)},function(){var n=(screen.height*screen.width).toString(16);return $r()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var n=Fe,t=void 0,e=void 0,i=[],r=0;function o(n,t){var e=void 0,r=0;for(e=0;e<t.length;e++)r|=i[e]<<8*e;return n^r}for(t=0;t<n.length;t++)e=n.charCodeAt(t),i.unshift(255&e),4<=i.length&&(r=o(r,i),i=[]);return 0<i.length&&(r=o(r,i)),r.toString(16)}()+"-"+n+"-"+$r()});function zr(){var n,t=se.get(mn)||Wr();return(n=t)&&se.top(mn,n,ln),t}function Hr(){return Math.floor(1+65535*te.rnd()).toString(16).substring(1)}function Zr(){var n=[],t=+new Date;return n.push(t.toString(16)),n.push(Hr()),n.push(Hr()),n.push(Hr()),n.join("-")}function Gr(n){var t=n.match(/(\d+)(?:\.(\d+)(?:\.(\d+))?)?/),e=[];if(t)for(var r=1;r<t.length;r++)e.push(parseInt(t[r]||0));return e}function Yr(n,t){var e=Gr(n),r=Gr(t);return!(e[0]<r[0])&&(!(e[0]===r[0]&&e[1]<r[1])&&!(e[0]===r[0]&&e[1]===r[1]&&e[2]<r[2]))}var ni="getEnv",ti=N,ei=!1,ri=!1,ii=!1,oi=!1,ai=[],ui=0,ci=void 0,si=te.now();function fi(n){var t=(n._opts||{}).nativeOptions||{};return{cb:"_lx"+(100*te.now()+ui++),mn:n._mn,cn:n._cn,data:n._d||{},options:t,ver:4}}function di(n,t,e,r,i){i=i||{};var o=this;o._cn=n,o._mn=t,o._d=e,o._cb=r,o._opts=i}function li(n,t,e,r,i){if(F===ti||R===ti)return r(ti);var o=new di(n,t,e,Xn,i);if(M===ti)o.send(function(n,t){r(n,t)});else if(N===ti){if(ai.push([o,r]),!ei){ei=!0;new Date;new di(n,ni,{}).send(function(r,n){if(new Date,r&&C(r),r)ti=F;else{if(ti=M,xt(an),te.isStr(n))try{n=pr.parse(n)}catch(n){}var t=(ci=n).sdk_ver||"";ri=Yr(t,"4.0.0"),ii=Yr(t,"4.3.0"),oi=!Yr(t,"4.8.0")}oe.each(ai,function(n){var t=n[0],e=n[1];r?(C(r),e(r)):t.send(function(n,t){e(n,t)})})})}}else r(L)}function vi(){return ri}var pi=3,hi=150,mi=5e3,gi=3500,_i=!(di.prototype.send=function(e){var r=this,i=fi(r),n="statistics://_lx/?data="+Jt(pr.stringify(i)),t=te.now();ci&&5e3<t-si&&r._mn===ni&&ti===M?(r._mn,e(0,ci)):(r._mn,i.cb,function(i,o,a){if(Ve!==c||!window.JavaScriptBridge)return Qr(function(n,t){if(n)return a(n);var e=!1,r=I(function(){e=!0,a(p)},5e3);t.use(i,{data:o,success:function(n){if(v(r),!e)if("success"===n.status){var t=n.data||{};try{te.isStr(t)&&(t=pr.parse(t)),a(Bt,t.data?t.data:n)}catch(n){a(n)}}else a(T)},fail:function(){v(r),e||a(T)}})});window.JavaScriptBridge.log(o,function(n){var t=n.data;try{te.isStr(t)&&(t=pr.parse(t)),a(Bt,t.data?t.data:t)}catch(n){a(n)}})}("lxlog",n,function(n,t){n?(r._mn,i.cb,new Date,C(n)):(r._mn,i.cb,new Date),e(n,t)}))}),yi=[],bi=[],wi=0,xi=0,ki=/Mozilla.+AppleWebKit.+Chrome.+Safari.+/i.test(Fe)&&!Pe;Pe&&.9<Math.random()&&(ki=!0);var Si=!Ke&&te.isFunc(Vt.sendBeacon);function Oi(n,t,e,r,i){var o=[{project:"web-lx-sdk",pageUrl:Ft.href,resourceUrl:n,category:i?"jsError":"ajaxError",sec_category:t,level:"error",unionId:e,timestamp:te.now(),content:""+r||""}],a=Ti("//catfront.dianping.com/api/log?v=1",Ln,"application/x-www-form-urlencoded");a&&(a.onerror=a.onreadystatechange=function(){},a.send("c="+encodeURIComponent(pr.stringify(o))))}function qi(n,t){if(pi<=xi)return!1;t=te.extend({cb:zt},t||{});var e=pt(),r=!it.use_post;try{r?function(e,r){var n=Gt().toString(16)+wi++,i=pt(),o=!1,a=!1,u=void 0,c=void 0,t=(s=e,f=[],d=[{l:An,s:In},{l:bn,s:wn},{l:xn,s:kn},{l:Sn,s:On},{l:Dn,s:Tn},{l:qn,s:jn}],oe.each(s,function(n){var t=te.extend(!0,{},n);oe.each(d,function(n){Ei(t,n.l,n.s)});var e=[];oe.each(n.evs,function(r){r=te.extend(!0,{},r),oe.each(r,function(n,t){if(-1<t.indexOf("val_")&&(r[t.replace("val_","")]=r[t],delete r[t]),Ei(r,"refer_url","urlr"),r[t]&&"url"===t){var e=Ft.hash;e&&(r.urlh=e),delete r[t]}}),e.push(r)}),t.evs=e,t[Tn]===t.uuid&&delete t.uuid;var r=t[kn];r&&(t[kn]=r.replace("data_sdk_","")),delete t.ua,f.push(t)}),f);var s,f,d;if(oe.each(t,function(n){c=n.uuid||n.lxid,delete n.ua}),!function(n){for(var t=n.length,e=t,r=0;r<t;r++)127<n.charCodeAt(r)&&e++;return 1.5*e<we}(u=pr.stringify(t)))return oe.each(e,function(n){oe.each(n.evs,function(n){var t=n.val_lab;n.val_lab=te.extend(!0,{custom:{_s:1}},t||{})})}),Ii(i,e,{cb:function(n,t){try{r(n,t,"ajax-post")}catch(n){}n!==M&&(!o&&Si&&(o=!0,ji(i,e)),a||(a=!0,Oi(location.host+location.pathname,"web-report-fail-ajax-post-"+n+"-"+t,c,u)))}});var l=pe(u),v=Jt(l),p=gt(!0);p+=-1<p.indexOf("?")?"&d="+v:"?d="+v,v.length,p=p+"&t=1&r="+n,ki?Ii(p,null,{method:"get",cb:function(n,t){try{r(n,t,"ajax-get")}catch(n){}n!==M&&(!o&&Si&&(o=!0,ji(i,e)),a||(a=!0,Oi(location.host+location.pathname,"web-report-fail-ajax-get-"+n+"-"+t,c,u)))}}):function n(t,e,r){var i=void 0,o=Fn+ke++;if(e=e||{},!(2<(r=r||0)))return Nt[o]=i=new Image,i.onload=function(){te.isFunc(e.cb)&&e.cb(!0),Nt[o]=null},i.onabort=i.onerror=function(){Nt[o]=null,I(function(){n(t,e,++r)},100)},i.src=t,i;te.isFunc(e.cb)&&e.cb(!1)}(p,{cb:function(n){if(n)try{r(M,200,"image-get")}catch(n){}else Ii(p,null,{method:"get",cb:function(n){try{r(n,status,"ajax-get-to-image-get")}catch(n){}n!==M&&(!o&&Si&&(o=!0,ji(i,e)),a||(a=!0,Oi(location.host+location.pathname,"web-report-fail-image-get-"+n+"-"+status,c,u)))}})}})}(n,t.cb):Ii(e,n,t)||Ke&&Ai(e,n,t)||ji(e,n)&&t.cb(M)}catch(n){return Oi(Ft.path,"report-ajax",0,n.message,!0),!1}return!0}function ji(n,t){var e=Vt.sendBeacon;return!!e&&(oe.each(t,function(n){oe.each(n.evs,function(n){n.lx_inner_data=te.extend(!0,{},n.lx_inner_data),n.lx_inner_data.beacon=1})}),n=Di(n),e&&e.call(Vt,n,pr.stringify(t)))}function Ai(n,t,e,r){if(!Nt.XDomainRequest)return!1;try{var i=new XDomainRequest;return i.open(Ln,Di(n),!0),i.onload=function(){xi=0,e&&e.cb(M,200,"IEXDR-post"),yi=[]},i.onerror=function(){xi++,e&&e.cb(F,0,"IEXDR-post")},i.ontimeout=function(){xi++,r||(!function(n,t,e,r){yi=yi.concat(t);var i=void 0,o=oe.reduce(yi,function(n,t){return t.evs=n.evs.concat(t.evs),i=t.evs.length,hi<i&&oe.slice(t.evs,i-hi,i),t});if(yi=[o],bi.push(r),!_i)var a=setInterval(function(){if(pi<=xi)return clearInterval(a),!1;e(n,yi,function(t){clearInterval(a),_i=!1,oe.each(bi,function(n){n&&n(t)})},!0)},gi)}(n,t,Ai,e),_i=!0)},i.timeout=mi,i.send(pr.stringify(t)),!0}catch(n){return!1}}function Ii(t,e,r,i){if(!Hn())return!1;try{var o=r&&r.method||Ln,a=te.isFunc(r.cb)&&r.cb||Xn,u=Ti(t,o,"text/plain");return u.onreadystatechange=function(){if(4===u.readyState){var n=u.status;200<=n&&n<400?(xi=0,a(M,u.status,"ajax-"+o),yi=[]):i?a(L,u.status,"ajax-"+o):Ii(t,e,r,!0),u.onreadystatechange=null}},u.onerror=function(){a(F,u.status,"ajax-"+o)},u.send(o===Ln&&pr.stringify(e)||null),!0}catch(n){return Oi(t,"web-report-fail-runtime",0,n.stack||n.message),!1}}function Di(n){var t="_lxsdk_rnd="+(Gt().toString(16)+wi);return-1===n.indexOf("?")?n+"?"+t:n+"&"+t}function Ti(n,t,e){var r=new($n());return r.open(t||Ln,Di(n),!0),r.timeout=mi,r.setRequestHeader("Content-Type",e),r}function Ei(n,t,e){return Wt.call(n,t)&&n[t]&&(n[e]=n[t],delete n[t]),n}var Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mi={},Ni=cn,Fi=[],Ri=null,Li={s:b,l:_,a:O,w:"wxid"},Vi="_lxsdk_wxenv_",Pi=["sdk_ver","ua"];function Bi(n){var t=/(^\w+-\w+-\w+-\w+-\w+)/;if(t.test(n)){var e=n.match(t);se.top(hn,e[1],ln)}else n&&!/(^\w+\.\d+\.\d+\.\d+\.\d+)/.test(n)&&n.length<100?se.top(hn,n,ln):se.top(hn,"",-1)}var Ui=0,Qi=1,Ki=2,Ji="|";function Xi(n){var t=se.get(_n);return t?t.split(Ji)[n]:""}function $i(n,t,e){var r,i,o;se.top(_n,(r=t,i=e,(o=[]).push(n||Wi()),o.push(r||zi()),o.push(i||Hi()),o.join(Ji)),vn)}function Wi(){return Xi(Ui)}function zi(){return Xi(Qi)}function Hi(){var n=0,t=Xi(Ki);return isNaN(t)||(n=parseInt(t)),n<0?0:n}var Zi=void 0;function Gi(n){var t=ne(Zi)&&Zi||Hi(),e=!1;return!0===n&&(t++,e=!0),(!t||t<-1)&&(e=!(t=0)),Zi=t,e&&($i(Bt,Bt,t),Zi=null),t}function Yi(n,c){return new jr(function(a,u){I(function(){u({code:p})},3e3),li(n,"getEnv",{},function(n,t){if(n)u(n);else{Ri=it.nativeSDKVer=t.sdk_ver,o=it.nativeSDKVer,te.isStr(o)&&(at.MVL=-1<Se(o,"4.14.0"),at.QR=-1<Se(o,"4.14.0"),at.getReqId=-1<Se(o,"4.12.0"));var e={uuid:y,msid:b,uid:x,dpid:S,appnm:O,union_id:s};for(var r in c=c||{},e){var i=e[r];t[r]&&(c[i]=t[r])}a(c)}var o})})}function no(){var n=se.get(yn);if(n){var t=n.split(","),e=/^\d+\.\d{5,}$/;return 3!==t.length?null:e.test(t[0])&&e.test(t[1])?{lat:t[0],lng:t[1],tm:t[2]}:null}return null}function to(n){return te.extend(!0,{},n)}function eo(n){var t=Rt.getElementsByTagName("meta"),e=he(t,"lx:appnm"),r=he(t,"lx:defaultAppnm"),i=Ve,o=Rt.domain,a=wt();return dt("appnm",e),dt("defaultAppnm",r),Pe&&De(Ve||e||r||o),Be?e||(2===a?n:i||(r||o)):e||(i||(r||o))}function ro(){var n,t,e,r,i,o,a=Ve===m||Ve===h||Ge,u=(n=se.get(hn),t=se.get("iuuid")||se.get("uuid")||n,e=Wi(),r=zi(),i=se.get(gn)||se.get(S),o={},t&&(o[y]=t),e&&(o[b]=e),n&&(o[_]=n),r&&(o[x]=r),i&&(o[S]=i),o),c=void 0,s={};a&&(s=function(n){var t={};if(j.test(n)){var e=te.parseQuery(n);if(e[y]&&(t[y]=e[y]),e[w]&&(t[w]=e[w]),e[k]&&(t[x]=e[k]),e.__lxsdk_params){var i={},r=decodeURIComponent(decodeURIComponent(e.__lxsdk_params)).split(";");oe.each(r,function(n){var t=n.split(":"),e=t[0],r=t[1];if(r){if(!Li[e])try{r=Ce(r)}catch(n){}i[e]=r}}),t[q]=i}return t}return t}(Ft.href)),(c=te.extend(u,s)).ct=Qe;var f=cr();f&&(c[A]=f);var d=zr();c[_]=d,c[y]||(c[y]=d),c[b]||(c[b]=Zr(),$i(c[b],c.uid||"")),c[y]&&Bi(c[y]);var l=eo();te.isStr(l)&&(c[O]=l);var v,p=(v=Pt.replace(/^.*([A-Za-z-]+)\/com\.(sankuai(?!\.meituan\.)|meituan(?!\.sankuai\.)|dianping|sankuai\.meituan|meituan\.sankuai)\.([.A-Za-z0-9-]+)\/(\d+[.\d]+).*$/,"$4"),/^\d+(\.\d+)+$/.test(v)?v:null);return p&&(c.app=p),c}function io(t){return function(n){var e=n;return t!==n&&(e=te.extend(t,n)),e.dpid&&e.uid?e:Xr().then(function(n){var t={};return n.dpid&&(t.dpid=n.dpid,n.userId&&(t.uid=""+n.userId),n.unionId&&(t.union_id=n.unionId)),e=te.extend(e,t)},function(n){return C(n),e})}}var oo=function(n){var a=ro();if(n&&Ve||He()){var t=Yi(n,a);return r===Ve&&(t=t.then(io(a),function(n){return C(n),io(a)()})),t.then(function(n){var t=eo(n[O]),e=n[S],r=n[y],i=n[s],o=n;return n!==a&&(o=te.extend(a,n)),te.isStr(t)&&(o[O]=t),r&&Bi(r),e&&se.top(gn,e,ln),i&&se.top("_lxsdk_unoinid",i,ln),o},function(n){return n&&C(n),a})}var e,o=to(a),u=o[q];return(e=te.now(),new jr(function(n){if(Ge)if(Nt.WeixinJSBridge&&Nt.WeixinJSBridge.invoke)n("miniprogram"===Nt.__wxjs_environment);else{var t=setTimeout(function(){it.wx_t=te.now()-e,n(!1)},5e3);Rt.addEventListener("WeixinJSBridgeReady",function(){clearTimeout(t),it.wx_t=te.now()-e,n("miniprogram"===Nt.__wxjs_environment)})}else n(!1)})).then(function(n){if(it.inWXMP=n){if("object"===(void 0===Ee?"undefined":Ci(Ee))&&!te.isObj(u))for(var t in u={},Ee){var e=Ee[t];0===t.indexOf(Vi)&&(u[t.slice(Vi.length)]=e)}var r=function(n){var t=Li[n]||n,e=u[n];e&&(o[d]=o[d]||{},o[t]&&(o[d][t]=o[t]),oe.find(Pi,function(n){return n===t})||(o[t]=e));try{Ee.setItem(Vi+t,e||"")}catch(n){}};for(var i in u)r(i)}return delete o[q],jr.resolve(o)})};function ao(n){return fn===Ni?jr.resolve(to(Mi)):sn===Ni?new jr(function(t){var n;n=function(n){t(n)},Fi.push(n)}):(Ni=sn,oo(n).then(function(e){return Mi=te.extend(!0,{},e||{}),Ni=fn,oe.each(Fi,function(n,t){te.isFunc(n)&&Fi[t](e)}),e}))}var uo=/([a-fA-F0-9-]+)(\.\d+)/,co="_hc.v",so=525600,fo="",lo=/(dper|dianping|51ping)\.com/.test(Lt);function vo(){return function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}()+"."+Math.round(+new Date/1e3)}function po(){return!fo&&lo&&(fo=function(){var n=se.get(co);if(n||(n=vo(),se.top(co,n,so)),n){var t=n.match(uo);return t?t[1]:""}return""}()),fo}var ho=function(){var n=void 0;try{var t=document;if(t.querySelectorAll){var e=t.querySelectorAll("head script"),r=t.querySelectorAll("body script"),i=[];oe.each(e,function(n){i.push(n)}),oe.each(r,function(n){i.push(n)});for(var o=0;o<i.length;o++){var a=i[o].innerHTML.match(/\[['"]\s*_setPageId\s*['"]\s*,\s*(\d+)\s*\]/);if(a){n=a[1];break}}}}catch(n){}return function(){return n}}();function mo(n){var t=this;t.s=n;var e=void 0,r=yr.get(Nn)||{s:n,d:t.d};r.s!==n?(yr.del(Nn),e=t.d=[]):e=t.d=r.d||[],t.l=e&&e.length||0}var go=null;function _o(){return go}var yo="QR",bo=20480/30,wo=2592e5,xo={},ko=void 0,So=!(mo.prototype={constructor:mo,set:function(n,t,e){var r=this,i=r.l,o=r.d,a=r.indexOf(n),u={scid:0<i?o[i-1].scid+1:0,cid:n,bid:t,sf:e};-1<a?o.splice(a,i-a,u):o.push(u),r.l=o.length,yr.set(Nn,{s:r.s,d:o})},indexOf:function(n){for(var t=this.d||[],e=0,r=t.length;e<r;e++){if(t[e].cid===n)return e}return-1},toJSON:function(){var n=this.d;return n&&n.length?n:null}}),Oo=[],qo=!1,jo=["ua"].join("|")+"|",Ao=["lxcuid","category","sdk_ver","utm","uuid","msid","ct","appnm"],Io=["utm","seq","tm","nm","val_ref","lng","val_lab","req_id","lat","s_from","val_cid","val_bid"];function Do(){if(!So){var n=Gt(),t=[ko.opts.cid],e=0,r=function(n,t){if(!n)try{var e=t;if(te.isObj(t)||(e=JSON.parse(t)),0===e.code)(function n(t){var e=0,r=0;var i=[];var o=Gt()-wo;for(var a in t)e+=t[a].bids.length,r+=t[a].bids.length;if(!r)return;for(var u in xo)e+=xo[u].bids.length,xo[u].tm<o&&i.push(u);bo<e&&(i.length?(oe.each(i,function(n){delete xo[n]}),n(t)):xo={});xo=te.extend(xo,t);setTimeout(function(){yr.set(yo,xo)},10)})(function(n){if(!te.isObj(n))return;var i={},o=Gt();return oe.each(n,function(t,r){i[r]=i[r]||{cid:r,tm:o,bids:[],envInfo:(t.envInfo||{}).quickReport||[],evsInfo:(t.evsInfo||{}).quickReport||[]},delete t.envInfo,delete t.evsInfo;var n=function(e){var n=t[e].quickReport||[];oe.each(n,function(n){var t={tp:e,id:n};i[r].bids.push(t)})};for(var e in t)n(e)}),i}(e.data)),So=!0;else{if(304!==e.code)return void e.message;So=!0}}catch(n){}};for(var i in xo)e++,n=Math.min(xo[i].tm,n);0===e&&(n=0);var o=("https://ocean.sankuai.com/delivery/api/web-configFile?\n                timestamp="+n+"\n                &cidList="+t.join(",")+"\n                &rnd="+Math.random()).replace(/\s/g,"");"https"===xe()&&Ii(o,{},{cb:r})||function(n,t,e,r){var i=void 0,o=(r=r||{}).outTime||5e3,a="__lxsdk_jsonp_callback_"+Math.random().toString(16).slice(2,10);/^([^?]+)\?/.test(n)?n=n.replace(/^([^?]+)\?/,"$1?"+t+"="+a+"&"):/^([^#]+)#/.test(n)?n=n.replace(/^([^#]+)#/,"$1?"+t+"="+a+"#"):n+="?"+t+"="+a;var u=Rt.createElement("script");u.src=n,Nt[a]=function(n){clearTimeout(i);try{e(Bt,n)}catch(n){}delete window[a]},u.type="application/javascript",u.charset="utf-8",u.setAttribute("async","true"),Rt.body.appendChild(u),i=I(function(){try{e("timeout")}catch(n){}delete window[a]},o),I(function(){Rt.body.removeChild(u)},0)}(o,"callback",r)}}function To(n,t,e){if(!it.useQR)return!1;if(!xo[t])return!1;for(var r=xo[t].bids,i=0,o=r.length;i<o;i++){var a=r[i];if(a.tp==n){if(n===V&&a.id==t)return!0;if(a.id==e)return!0}}return!1}function Eo(n,t,e){var r={},i={};if(n&&xo[n]){var o=Ao.concat(xo[n].envInfo||[]),a=Io.concat(xo[n].evsInfo||[]);oe.each(o,function(n){t.hasOwnProperty(n)&&t[n]&&(i[n]=t[n])}),oe.each(a,function(n){e.hasOwnProperty(n)&&jo.indexOf(n+"|")<0&&(r["evs."+n]=e[n])});var u=te.extend(!0,i,r);Oo.push(u),v(qo),qo=setTimeout(function(){Ii("https://"+Qn+"/?rnd="+Math.random(),Oo,{nm:e.nm,cb:Xn}),Oo=[]},0)}}!function(){var n=yr.get(yo);if(n)try{var t=void 0;t=te.isObj(n)?n:JSON.parse(n),xo=te.extend(!0,xo,t)}catch(n){}}(),function t(){var e=Na();return new jr(function(n){e?n(e):setTimeout(function(){t().then(n)},100)})}().then(function(n){ko=n,it.useQR&&(xe(),Do())});var Co="category",Mo="setEvs",No="val_bid",Fo="page",Ro="s_from",Lo="lat",Vo="lng",Po=[],Bo=Rt.referrer,Uo=[],Qo=void 0,Ko=void 0,Jo={},Xo=0,$o=void 0,Wo=function(n,t,e){if(e){var r={},i={custom:r};r[t]=e,n=te.extend(!0,n||{},i)}return n},zo=function(n,t){var e,r,i=(e=n,r="fn_"+parseInt(1e6*Yt()),Me[r]=e,r);return I(function(){Ne(i,-1)},ne(t)&&t||2e3),i};function Ho(n,t){this.env=t||{},this.opts=te.extend(!0,{},n),Po.push(this),It=this}var Zo=Ho.prototype;function Go(n){return 6===n._ptpvs}function Yo(){return!Xo}function na(n){return(n=n||{})&&!te.isObj(n)&&(n={cid:""+n}),n}function ta(e,r,i,o,a){var u=this,c=zo((a=a||{}).callback,a.callbackTimeout),n=a,t=n.isLeave,s=n.currentPageInfo,f=n.mvDelay,d=n.sf,l=To(e,r,i);if(wt()===un){var v=aa(u),p=la(Sr.getAll()),h=sa(e,r,i,o),m=h.body,g=h.ev,_=va(v,m,p);if(l&&Eo(r,v,g),e===Q){if(f)return te.run(m,function(n){Uo.push(n)}),void I(function(){if(Uo.length){var n=va(v,Uo,p);u.send(n,{cbkey:c}),Uo=[]}},f*on)}else{if(e===K)return void Dt.call(u,K,v,m[0],{tag:p});if(e===B){if(s&&function(n,t){te.isObj(n[En])||(n[En]={});n[En][Fo]=t}(g,u._cpi),_=va(v,m,p),t){var y=ye(),b=ca(P,r,Bt,y);_.evs.push(b)}Pe&&d&&_o().set(r,i,d)}}u.send(_,{nm:e,cbkey:c})}else{var w=u.env,x=void 0,k=ua({isQuickReport:l}),S=[da.call(u,e,r,i,o)];if(e===B&&(x={sf:d},u._cpi&&(x.cpi=u._cpi),S=[da.call(u,e,r,i,o,null,x)],t)){var O=ye(),q=da.call(u,P,r,null,O);S.push(q)}w[A]&&(S=function(n,t){if(!oe.isArray(n)||!n.length)return n;if(!te.isObj(n[0][En]))return n[0][En]={page:{utm:t[A]}},n;if(!te.isObj(n[0][En][Fo]))return n[0][En][Fo]={utm:t[A]},n;return n[0][En][Fo]=te.extend(!0,n[0][En][Fo],{utm:t[A]}),n}(S,w));var j=oa(w[Co]);new Date;li(j,Mo,S,function(n,t){n?(xt(un),C(n),new Date,Ne(c,Jn),ta.call(u,e,r,i,o,a)):(Ne(c,Kn),new Date)},{nativeOptions:k})}}function ea(){return Qo||(Qo=ra()),Qo}function ra(){return te.now().toString(16)+"-"+Math.floor(65535*te.rnd())+"-"+Math.floor(65535*te.rnd())}function ia(n){var t,e,r=n.nm;V===r?(n.nm="mpt",n.val_act="pageview"):P===r?(n.nm="report",n.val_act="quit"):(n.nm="mge",n.event_type=(t=r,(e={})[X]="order",e[$]="pay",e[B]="click",e[J]="return",e[Q]="view",e[U]="click",e[t]||r)),n.nt=0,n.isauto=8}function oa(n){return 0===n.indexOf("data_sdk_")&&(n=n.replace(Co,"")),n}function aa(n){var t,e,r=te.extend(!0,{},n.env);r[Co]=(t=r[Co],e="data_sdk_",0!==t.indexOf(e)&&(t=e+t),t),$o||Wi()||(r[b]=$o=Zr(),$i(r[b],r.uid||""),I(function(){$o=null},0));var i=r.utm,o={ua:Fe,sdk_ver:g,ch:i&&i.utm_source?i.utm_source:"web",sc:We};o[An]=g;var a=te.extend(!0,o,r);return Be&&!yt()&&delete a.ch,a}function ua(n){return(n=n||{}).isQuickReport=ut("QR")&&!!n.isQuickReport,n}function ca(n,t,e,r,i){i=i||E;var o,a,u,c=Gi(!0),s=no(),f=te.isObj(r)&&r.custom||{},d=void 0,l=V===n,v=X===n,p=$===n,h={nm:n,tm:te.now(),nt:un,isauto:i,val_cid:t,req_id:ea(),seq:c,lx_inner_data:ft()};if(l){var m=Ft.href;h.url=m,(d=Bo)&&(h.refer_url=d),i===E&&(Bo=m)}return(v||l||p)&&Pe&&(o=h,(a=_o().toJSON())&&(o[Ro]=a),h=o),r=Wo(r,"_hguid",po()),(u=r)&&u.custom&&"v3"===u.custom._api&&!t&&(h.val_cid=Rt.title||Ft.pathname,r=Wo(r,"_cid",1)),te.isObj(f)&&"v3"===f._api&&(h.lx_inner_data._api="v3",delete f._api),l&&(r=Wo(r,"_hpid",ho()),it.wx_t&&(r=Wo(r,"_wx_t",it.wx_t))),e&&(h[No]=e),s&&(h[Lo]=s.lat,h[Vo]=s.lng),r&&(h[En]=r).lat&&r.lng&&(h[Lo]=r.lat,h[Vo]=r.lng),h}function sa(n,t,e,r,i){var o=ca(n,t,e,r,i);return{body:function(n){{if(Uo&&0<Uo.length){var t=Uo;return Uo=[],t.push(n),t}return[n]}}(o),ev:o}}function fa(n){return Ue?n:Le&&!oi?n:Jt(n)}function da(n,t,e,r,i,o){o=o||{},i=i||E;var a=this.env.appnm,u=no(),c=!kt,s=void 0,f={nm:n,tm:te.now(),nt:an,isauto:i,val_cid:t,shouldCover:c,lx_inner_data:ft()};f=te.extend(!0,f,Jo),Ko&&(f.req_id=Ko),o.sf&&(f._sf=o.sf);var d=void 0,l=te.extend(!0,{},r||{}),v=V===n;if(v){var p=fa(Ft.href);d={ua:Fe,url:p};var h=cr();h&&h.utm_source&&(d.utm=h),(s=Bo)&&(d.refer_url=fa(s)),i===E&&(Bo=p)}else d={};if(oe.each({web_req_id:ea(),web_sdk_ver:g,lxcuid:zr(),web_appnm:a,covered_by_native:c},function(n,t){te.isStr(n)&&(d[t]=n)}),te.isObj(l.custom)&&"v3"===l.custom._api&&(d.web_appnm=function(n){if(te.isStr(n))return n&&et[n]||et}("appnm"),f.lx_inner_data._api="v3",delete l.custom._api),o.cpi&&!l.page&&(l.page=o.cpi),l.custom=te.extend(!0,l.custom,d),l=Wo(l,"_hguid",po()),v){l=Wo(l,"_hpid",ho());try{var m=void 0;ue(document.scripts,function(n){var t=n.src;/\/\/analytics\.meituan\.(net|com)\//.test(t)&&(m=t)}),l=Wo(l,"_lxsdk_url",m)}catch(n){}}return n!==U||ii?vi()||ia(f):vi()?f.nm=B:ia(f),f[En]=l,u&&(f[Lo]=u.lat,f[Vo]=u.lng),e&&(f[No]=e),v&&!vi()&&(f.val_val=l,delete f[En]),f}function la(n){return n}function va(n,t,e){return oe.isArrayLike(t)||(t=[t]),te.run(t,function(n){n&&e&&(n.tag=e)}),n.evs=t,n}function pa(n,t){var e={};return e[rn]=t,te.extend(e,n)}function ha(e,n,t,r){var i,o,a,u,c=(i=n,o=t,a=r,u=null,!te.isStr(i)||o||a?te.isObj(i)&&te.isStr(o)&&!a&&(u=o,o=null):(u=i,i=null),u&&(a=te.extend({cid:u},a||{})),{lab:i,env:o,opts:a}),s=c.lab,f=c.env;r=na(c.opts);var d=e.opts.cid=r.cid||e.opts.cid;r=te.extend({cid:d},r),f&&te.isObj(f)&&oe.each(f,function(n,t){e._dt.set(t,n,Bt,!0)}),e._dt.pageView(s,r)}function ma(n,t){this.env=n||{},this.opts=t||{},this._t=[]}Zo.set=function(n,t,e,r){var i=this,o=i.env;if(te.isObj(n))ue(n,function(n,t){i.set(t,n)});else if(!r&&it.inWXMP&&te.isObj(o[d])&&o[d][n]?o[d][n]=t:o[n]=t,dt(n,t),"utm"===n&&te.isObj(t)&&ur(t),an!==wt()||Rn[n])te.isFunc(e)&&e(o,i);else{var a={},u=oa(o[Co]);a[n]=t,li(u,"setEnv",a,function(){te.isFunc(e)&&e(o,i)})}},Zo.get=function(n,t){te.isFunc(t)&&t(this.env[n],this)},Zo.pageView=function(e,r){r=na(r)||{};var n=void 0,i=this,o=zo(r.callback,r.callbackTimeout),t=i.opts.cid,a=r.cid||t,u=r.isauto||E,c=r.isAutoInit,s=r.reportStatus,f=t&&!(Go(i)||c)&&!Yo(),d=s===un||un===wt(),l=i.env;if(this._cpi=e,f&&!vt()){var v=ye(!0);n=d?ca(P,t,null,v):da.call(i,P,t,null,v),lt(0)}t&&(Go(i)||Yo())||(Qo=ra()),i.opts.cid=a;var p=To(V,a);if(d){var h=aa(i),m=la(Sr.getAll()),g=sa(V,a,null,e,u),_=g.body;f&&n&&_.unshift(n);var y=va(h,_,m);p&&Eo(a,h,g.ev),this.send(y,{nm:V,cbkey:o}),c||Xo++}else{var b=ua({needCachePD:!0,isQuickReport:p}),w=[da.call(i,V,a,null,e)];f&&n&&w.push(n),oe.each(w,function(n){n.appnm=l.appnm}),li(oa(l[Co]),Mo,w,function(n,t){n?(xt(un),Ne(o,Jn),i.pageView(e,r),Oi(Ft.href,"native-report-error",i.env.union_id,C(n))):(c||Xo++,Ne(o,0))},{nativeOptions:b})}i._ptpvs=c?6:E},Zo.pageDisappear=function(e,r){r=te.extend({},r);var i=this,n=r.cid||i.opts.cid,t=r.getDurationFromLastPV||!1,o=r.shouldStore;lt(f);var a=ye(t);if(e=te.extend(a,e),un===wt()||o){var u=va(aa(i),ca(P,n,null,e),la(Sr.getAll()));o&&yr.nt?(Ie()&&(it.inWXMP&&te.isObj(u[d])&&u[d][O]?u[d][O]=Te():u[O]=Te()),yr.set(l,u)):i.send(u)}else{var c=this.env,s=[da.call(i,P,n,null,e)];li(oa(c[Co]),Mo,s,function(n,t){n&&(xt(un),i.pageDisappear(e,r))})}Ct()},Zo.systemCheck=function(e,r,i){i=te.extend({},i);var o=this,n=i.cid||o.opts.cid,t=!!i.isLXLog;if(un===wt()){var a=aa(o),u=va(a,sa(U,n,e,r).body,la(Sr.getAll()));t&&(a.category="others"),this.send(u)}else{var c=o.env,s=[da.call(o,U,n,e,r)],f=oa(c[Co]);t&&(f="others"),li(f,Mo,s,function(n,t){n&&(xt(un),o.systemCheck(e,r,i))})}},Zo.moduleView=function(n,t,e){var r=(e=te.extend({},e)).callback,i=e.callbackTimeout,o=this.opts.mvDelay||e.delay,a=e.cid||this.opts.cid;ta.call(this,Q,a,n,t,{mvDelay:o,callback:r,callbackTimeout:i})},Zo.moduleViewList=function(n,t,e){var r=(e=te.extend({},e)).callback,i=e.callbackTimeout,o=this.opts.mvDelay||e.delay,a=e.cid||this.opts.cid,u=ut("MVL");wt()!==an||u?ta.call(this,K,a,n,t):ta.call(this,Q,a,n,t,{mvDelay:o,callback:r,callbackTimeout:i})},Zo.moduleClick=function(n,t,e){var r=(e=te.extend({},e)).callback,i=e.callbackTimeout,o=e.cid||this.opts.cid,a=e.sf;e&&e.isLeave&&lt(f);var u=e.withPageInfo&&te.isObj(this._cpi)?this._cpi:Bt;ta.call(this,B,o,n,t,{currentPageInfo:u,isLeave:e.isLeave,sf:a,callback:r,callbackTimeout:i})},Zo.moduleEdit=function(n,t,e){var r=(e=te.extend({},e)).cid||this.opts.cid;ta.call(this,J,r,n,t,e)},Zo.order=function(e,r,i){i=te.extend({},i);var o=this,a=zo(i.callback,i.callbackTimeout),n=i.cid||o.opts.cid;be(0,r);var t=To(X,n,e);if(un===wt()){var u=aa(this),c=sa(X,n,e,r),s=c.body,f=la(Sr.getAll()),d=va(u,s,f);t&&Eo(n,u,c.ev),this.send(d,{cbkey:a})}else{var l=this.env,v=ua({isQuickReport:t}),p=[da.call(o,X,n,e,r)];li(oa(l[Co]),Mo,p,function(n,t){n?(xt(un),Ne(a,Jn),o.order(e,r,i)):Ne(a,Kn)},{nativeOptions:v})}},Zo.pay=function(e,r,i){i=te.extend({},i);var o=this,a=zo(i.callback,i.callbackTimeout),n=i.cid||o.opts.cid;be(0,r);var t=To($,n,e);if(un===wt()){var u=aa(o),c=sa($,n,e,r),s=c.body,f=la(Sr.getAll()),d=va(u,s,f);t&&Eo(n,u,c.ev),this.send(d,{cb:function(n,t,e){Sr.clear(),Ne(a,{code:n,status:t,type:e})}}),o.clearTag()}else{var l=this.env,v=ua({isQuickReport:t}),p=[da.call(o,$,n,e,r)];li(oa(l[Co]),Mo,p,function(n,t){n?(xt(un),Ne(a,Jn),o.pay(e,r,i)):Ne(a,Kn)},{nativeOptions:v})}},Zo.tag=function(e,n,t,i){var r=void 0,o=this.env,a=arguments,u=[],c=function(n){if(!te.isObj(n))return n;for(var t=n,e=0,r=u.length;e<r;e++){if(!t)return t;t=t[u[e]]}return t},s=function(){oe.each(a,function(n){if(!te.isStr(n))return!1;u.push(n)})},f=function(n,t,e){var r={};r[n]=t,li(oa(o[Co]),"setTag",r,function(n,t){i&&(e&&s(),i(n,c(t),!0))})},d=function(n){var t=Sr.getAll();n||s(),i&&i(0,c(t),!1)};if(oe.each(a,function(n){te.isFunc(n)&&(i=n)}),te.isObj(e)){var l=this;oe.each(e,function(n,t){l.tag(t,n)})}else te.isStr(e)&&te.isObj(n)?un!==wt()?f(e,r=n,!0):(ue(n,function(n,t){Sr.set(e,t,n)}),d(!0)):(te.isObj(t)||te.isStr(t))&&function(n){if(!te.isStr(n)&&!n.length)return!1;return!0}(e)&&te.isStr(n)?un!==wt()?((r={})[n]=t,f(e,r,!0)):(Sr.set(e,n,t),d(!0)):te.isFunc(e)||te.isFunc(n)||te.isStr(e)&&te.isStr(n)&&te.isFunc(t)?un!==wt()?(s(),li(oa(o[Co]),"getTag",{},function(n,t){i&&i(n,c(t),!0)})):d():i&&i(-1)},Zo.clearTag=function(n,t,e){var r=0;un===wt()?(te.isFunc(n)&&(e=n,n=Bt),Sr.clear(n,t),e&&e(0)):r=-1,e&&e(r)},Zo.sfrom=function(r){var i=void 0,n=this.env;un!==wt()?li(oa(n[Co]),"getSFrom",{},function(n,t){if(t){var e=t.data?t.data:t;i=te.isStr(e)?JSON.parse(e):e,r(n,i)}}):r(1,[])},Zo.send=function(n,r){var t=[];r=te.extend({cb:function(n,t,e){r.cbkey&&Ne(r.cbkey,{code:n,status:t,type:e})}},r),te.run(n,function(n){Ie()&&(it.inWXMP&&te.isObj(n[d])&&n[d][O]?n[d][O]=Te():n[O]=Te()),t.push(n)});var e=function(){var n=yr.get(l);n&&yr.del(l);return n}();e&&t.unshift(e),qi(t,r)},Zo.getAll=function(){return Po};var ga=ma.prototype;ga.create=function(n,t){var e=te.extend({},this.env);e=te.extend(e,{category:n});var r=te.extend({isDefault:!1},this.opts),i=new Ho(r=te.extend(r,t||{}),e);return this._t.push(i),t.isDefault&&(this._dt=i),i},ga.config=function(n,t){return Bt!==n&&(it[n]=t),"cid"===n&&ie(t)&&(this.opts.cid=t),it[n]},ga._initPV=function(n,t){ha(this,this.config("pageValLab"),n=te.extend(n,this.config("pageEnv")),{isauto:6,reportStatus:un,cid:t,isAutoInit:!0})},ga.pageView=function(n,t,e){ha(this,n,t,e)},ga.moduleView=function(n,t,e){this._dt.moduleView(n,t,e)},ga.moduleViewList=function(n,t,e){this._dt.moduleViewList(n,t,e)},ga.systemCheck=function(n,t,e){this._dt.systemCheck(n,t,e)},ga.moduleClick=function(n,t,e){this._dt.moduleClick(n,t,e)},ga.moduleEdit=function(n,t,e){this._dt.moduleEdit(n,t,e)},ga.order=function(n,t,e,r){this._dt.order(n,pa(e,t),r)},ga.pay=function(n,t,e,r){this._dt.pay(n,pa(e,t),r)},ga.pageDisappear=function(n,t){this._dt.pageDisappear(n,t)},ga.tag=function(n,t,e,r){this._dt.tag(n,t,e,r)},ga.sfrom=function(n){this._dt.sfrom(n)},ga.clearTag=function(n,t,e){this._dt.clearTag(n,t,e)},ga.getAll=function(n){n&&n(this._t)},ga.getTracker=function(t,n){var e=oe.find(this._t,function(n){return n.env.category===t});n&&n(e)},ga.get=function(n,t){this._dt.get(n,t)},ga.set=function(n,t,e){this._dt.set(n,t,e)},ga._setRequestID=function(n){Ko=n},ga._setNativeEvsData=function(n,t){var e;e=t,Jo[n]=e};var _a=void 0,ya=!0,ba=function(){var n,t,e;!it.onWebviewAppearAutoPV||(t=n||Gt(),e=me(),_e.update(t),Xt=t,e&&(e.l=t),Fa(),_a.pageView(),lt(0))},wa=function(){!!it.onWebviewAppearAutoPV&&(vt()||(lt(f),_a.pageDisappear({},{getDurationFromLastPV:!0})))},xa=function(){ya=!0,ba()},ka=function(){ya=!1,wa(),Ct()},Sa=function(){ya&&ba()},Oa=function(){ya&&(wa(),Ct())},qa=void 0,ja=!!/\d\.\d\.\d/.test(Ze)&&0<=Se(Ze,"11.3.0");function Aa(n,t){te.isStr(n)&&(t=te.isFunc(t)&&t||function(){},"on"+n in Nt||"KNB:"+n in Nt?te.on(window,n,function(n){t(n)}):(qa=window.KNB)&&te.isFunc(qa.subscribe)&&qa.subscribe({action:n,handle:function(){t()},success:function(){},fail:function(n){}}))}var Ia={hook:function(){try{Aa("appear",xa),Aa("disappear",ka),ja&&(Aa("foreground",Sa),Aa("background",Oa))}catch(n){Oi("sdk","api-error","",n.stack,!0)}_a=Na()}},Da=[],Ta=cn,Ea=void 0,Ca=void 0;function Ma(n,t){return{cb:n,cmd:t}}function Na(){return Ea}function Fa(){var t,r;St(!1),(t=Ca,r={none:!0},new jr(function(e){try{var n=Se(Ri,"4.12.0");!Ri||!ne(n)||n<0?e(r):t&&Ve||He()?li(t,"getReqId",{},function(n,t){e(n?r:t)}):e(r)}catch(n){e(r),Oi("sdk","api-error","",n.stack,!0)}})).then(function(n){var t=n||{},e=t.val_ref,r=t.req_id,i=t.refer_req_id,o=!!(r||e||i);r&&Ea._setRequestID(r),e&&Ea._setNativeEvsData("val_ref",e),i&&Ea._setNativeEvsData("refer_req_id",i),St(o)})}function Ra(n,t){if(fn===Ta)n&&n(Ea);else if(sn===Ta)n&&Da.push(Ma(n,t));else{te.now();Da=Da.concat(Ma(n,t));var e=Rt.getElementsByTagName("meta"),o=he(e,"lx:cid")||it.cid;if(!(Ca=he(e,"lx:category")))return void(Ta=cn);Ta=sn;var a=he(e,"lx:mvDelay");a=isNaN(a)?0:parseInt(a,10);var u="off"!==he(e,"lx:autopv");it.autoPV=u,I(Fa,1e3),jr.all([ao(Ca)]).then(function(n){var t,r=n[0],e=r.appnm;!te.isStr(e)||Rt.domain,Ea=new ma(r,{cid:o,isDefault:!0,mvDelay:a}),Ca&&Ea.create(Ca,{isDefault:!0}),r=te.extend(!0,Ea._dt.env,r),Ea._dt.env=r,te.now();try{var i=[];oe.each(Da,function(n){var t=n.cb,e=n.cmd;"config"===e||"set"===e?t(Ea,r):i.push(n)}),Pe&&(t=r.msid,go||(go=new mo(t))),u&&Ca&&o&&o&&Ea._initPV(r,o),Ia.hook(function(){}),oe.each(i,function(n){n&&n.cb&&n.cb(Ea,r)})}catch(n){}}).then(function(){Ta=fn},function(n){throw Ta=fn,n})}}var La=[["click",tn],["tap",tn],["view","moduleView"],["return","moduleEdit"],["order",en],["pay","pay"]],Va=oe.reduce(La,function(n,t){return n[t[0]]=t[1],n},{}),Pa=[["mpt",Y],["report","pageDisappear"]],Ba=oe.reduce(Pa,function(n,t){return n[t[0]]=t[1],n},{}),Ua=oe.reduce(["config","event","send","use"],function(n,t){return n[t]=!0,n},{}),Qa=function(n,t){var e=Rt.getElementsByTagName("head")[0],r=Rt.createElement("meta");r.setAttribute("name",n),r.setAttribute("content",t),e.appendChild(r)},Ka=function(e,n){return e=e||{},ue(n,function(n,t){1==={act:1,cid:1,val:1,lab:1,bid:1}[t]?e["val_"+t]=n:e[t]=n}),e},Ja=function(n,t,e){(n&&!re(n)&&(n={custom:{_lab:n}}),!n&&e&&(n={}),e)&&((n.custom=n.custom||{})[t]=e);return n},Xa=function(n,t,e){return n&&!re(n)&&(n={custom:{_lab:n}}),n&&(n[t]=e),n},$a=function(n,t){var e=n[En],r=n[Mn];if(e&&e===r&&(r=ee(!0,{},r)),t&&(r||e)){var i=e;e=r||{},i&&(e=Ja(e||{},"_lab",i))}else if(!t&&(r||e)){if(ie(r)&&(r={analyse_val:r}),ie(e))e={val_lab:e};r&&(e=Xa(e||{},"page",r))}return Bt!==n[z]&&(e=Ja(e||{},"_act",n[z])),Bt!==n[W]&&(e=Ja(e||{},"_et",n[W])),Bt!==n[Z]&&(e=Xa(e||{},Z,n[Z])),Bt!==n[G]&&(e=Ja(e||{},"_el_id",n[G])),e};function Wa(n){var t,e,r,i=(e=(t=n).split("."),r=void 0,2===e.length&&(t=e[1],r=e[0]),[t,r]),o=void 0;return i[1]&&(o=i[1]),[n=i[0],o]}var za=function t(e,n){var r=Wa(e);e=r[0];var i=r[1],o=n[0],a=n[1];if(oe.isArray(o))return ce(o,function(n){return t(i?i+"."+e:e,[n,a])});var u,c,s=(o.nm||"mge").toLowerCase();o.nm=s,(c=(u=o).val)&&(Ka(u,c),delete u.val),o=u;var f="mge"===s;if("mpt"===s)return function(n){n=Ka(n,n.val);var t=$a(n,!0);return[Y,t,null,n[H]]}.apply(null,n);var d,l,v=en===s,p="pay"===s,h=o[W],m=o[z],g=$a(o,!1);v||p||h||!f||!m?p||v?e=s:(l=h,e="mge"===(d=s)?l?Va[l]||nn:tn:"mpt"===d||"report"===d?Ba[d]:nn,f||(g=Ja(g||{},"_nm",s))):e=tn;var _=o[H];return _&&((a=a||{}).cid=_),i&&Ja(g,"_logchannel",i),Ja(g=g||{},"_api","v3"),e===en||"pay"===e?[e,o[Cn],g.order_id,g,a]:[e,o[Cn],g,a]},Ha=function n(){if(!n.f){Qa("lx:autopv","off"),n.f=!0}},Za=function(n){if(!n||!n.length)return n;try{var t=n[0];0<(a=(o=t).indexOf("."))&&(o=o.substr(a+1)),Ua[o]&&(n=oe.slice(n,1),Ga(t)?(Ae(3),Ha(),n=za(t,n)):Ya(t)?(Ae(3),Ha(),n=function(n,t){var e=Wa(n)[1];n=Y;var r=t[1],i=t[2],o=e?{custom:{_logchannel:e}}:Bt,a={};if(ie(r))re(i)?o=i:ie(i)&&(o=Ja({},"analyse_val",i));else if(re(r)){i=(a=Ka(a,r))[Mn],ie(i)&&(i=Ja({},"analyse_val",i)),o=i;var u=a[En];u&&Ja(o,"_lab",u),r=a[H]}var c=void 0;return r&&((c={}).cid=r),[n,o=Ja(o,"_api","v3"),Bt,c]}(t,n)):nu(t)?(Ae(3),Ha(),n=function(n,t){var e=t[0],r=t[1];if(e&&(e=e.replace(/^data_sdk_/i,""),Qa("lx:category",e)),re(r))return["set",r]}(0,n)):tu(t,n[0],n[1])?(Ha(),e=t,r=n[0],i=n[1],n="appnm"===r&&ie(i)?void Qa("lx:appnm",i):("cid"===r&&ie(i)&&Qa("lx:cid",i),[e,r,i])):n.unshift(t))}catch(n){}var e,r,i,o,a;return n},Ga=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"event"===n},Ya=function(n){var t=n.indexOf(".");return 0<t&&(n=n.substr(t+1)),"send"===n},nu=function(n){return"use"===n},tu=function(n,t){var e=!1;return"cid"!==t&&"appnm"!==t||(Ae(3),e=!0),"config"===n&&e},eu=void 0,ru=void 0;function iu(n,t,e,r,i){if(te.isFunc(t))t.call(n,n,r,i);else if(!i&&te.isStr(t)&&te.isFunc(n[t]))return n[t].apply(n,e)}function ou(){if(!ru){ru=!0;var r=void 0;Ke&&te.on(Rt,"mouseup",function(n){var t=n.target||n.srcElement,e=t.tagName+t.href;e=e.toLocaleLowerCase(),1===t.nodeType&&/^ajavascript:/i.test(e)&&(r=new Date)});var n=Nt.onbeforeunload;Pe&&Ue?Nt.addEventListener("pagehide",Oe(!1,Ke,r,void 0,au,Bt,vt)):Nt.onbeforeunload=Oe(!1,Ke,r,void 0,au,n,vt)}}function au(r){var n=arguments;if(n.length){var i=oe.slice(n,1,n.length);try{eu?iu(eu,r,i,eu._dt?eu._dt.env:null):Ra(function(n,t,e){iu(eu=n,r,i,t,e),ou()},r)}catch(n){try{Oi("sdk","api-error","",n.message+"\n"+n.stack,!0)}catch(n){}}}}window._lxsdk_isDOMReady||(window._lxsdk_isDOMReady=!0,function(){var s=!0,f=!1,d=function(){var n=me();n&&(n.q.push=function t(n){try{var e,r=(e=Za(n))?e[0]:"";if(oe.isArray(r))return void ue(e,function(n){t(n)});"start"===r?(s=!0,f||l(d)):!1===s?e&&d.push(e):au.apply(Bt,e)}catch(n){try{Oi("sdk","api-error","",n.stack,!0)}catch(n){}}});for(var t=void 0,e=void 0,r=[],i=[],o=[],a=n&&oe.isArray(n.q)?n.q:[],u=0,c=a.length;u<c;u++)"config"===(e=a[u][0])?i.push(a[u]):t||"use"!==e?o.push(a[u]):(r.push(a[u]),t=!0);return a=i.concat(r.concat(o))}();function l(n){f||(n&&oe.each(n,function(n){var t,e=(t=Za(n))?t[0]:"";oe.isArray(e)?ue(t,function(n){au.apply(Bt,n)}):e?au.apply(Bt,t):n&&n&&n[0]}),au(function(){ou()}),f=!0)}if(0===d.length)Ra(function(n){eu=n,ou()});else try{d=ce(d,function(n){var t;if("config"===((t=Za(n))?t[0]:"")){var e=t[1],r=t[2];"autoStart"===e&&!1===r&&(s=!1)}return t}),s&&l(d)}catch(n){}}())}();
